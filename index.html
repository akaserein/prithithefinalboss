<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prithi The Final Boss ‚Äî Player</title>
  <style>
    :root{
      --pink: #ffb6c1;
      --black: #000;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body {
      font-family: Inter, system-ui, sans-serif;
      background: #000;
      color: var(--pink);
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 20px;
    }
    /* background animation */
    body {
      background: linear-gradient(-45deg,#000,#1a1a1a,#000,var(--pink));
      background-size:400% 400%;
      animation:bgShift 12s ease infinite;
    }
    @keyframes bgShift {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    .card {
      background: rgba(255,255,255,0.03);
      padding:20px;
      border-radius:16px;
      display:flex;
      align-items:center;
      gap:30px;
      box-shadow:0 8px 25px rgba(0,0,0,0.6);
    }
    h1 {font-size:1.2rem;margin-bottom:8px}

    audio {width:240px;border-radius:8px}

    .visual {display:flex;gap:8px;align-items:flex-end;height:80px}
    .bar {width:10px;background:var(--pink);height:20px;border-radius:6px;transition:height 0.1s}

    .info {margin-top:10px;font-size:0.9rem}
    #time {font-size:1.3rem;font-weight:600;text-shadow:0 0 10px rgba(255,182,193,0.8)}
    #date {color:#ccc;font-size:0.85rem;margin-top:4px}
    #weather {margin-top:6px;font-size:0.9rem;color:#aaa}

    /* button styles */
    .btn {
      background: transparent;
      border:1px solid rgba(255,182,193,0.4);
      color:var(--pink);
      padding:8px 14px;
      border-radius:8px;
      cursor:pointer;
      font-size:0.9rem;
      margin-top:10px;
    }
    .btn:hover{background:rgba(255,182,193,0.1)}

    /* TicTacToe modal */
    .modal {
      position:fixed;inset:0;
      background:rgba(0,0,0,0.85);
      display:none;
      justify-content:center;
      align-items:center;
      z-index:1000;
    }
    .modal.active{display:flex}
    .game {
      display:grid;
      grid-template-columns:repeat(3,80px);
      gap:5px;
    }
    .cell {
      width:80px;height:80px;
      background:#111;
      display:flex;justify-content:center;align-items:center;
      font-size:2rem;font-weight:600;
      color:var(--pink);
      cursor:pointer;
      border-radius:8px;
    }
    .closeBtn {
      position:absolute;top:20px;right:20px;
      background:#222;color:var(--pink);padding:6px 10px;
      border:none;border-radius:6px;cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="card">
    <div>
      <h1>üéß Average Non IITIAN</h1>
      <audio id="player" controls>
        <source src="AverageNonIITIAN.mp3" type="audio/mpeg">
      </audio>
      <div class="info">
        <div id="time"></div>
        <div id="date"></div>
        <div id="weather">üå§Ô∏è Loading weather...</div>
      </div>
    </div>
    <div class="visual" id="visual">
      <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
    </div>
  </div>

  <button class="btn" id="tttBtn">Play TTT</button>

  <!-- Modal for TicTacToe -->
  <div class="modal" id="tttModal">
    <button class="closeBtn" onclick="closeTTT()">X</button>
    <div class="game" id="game"></div>
  </div>

  <script>
    // Time & Date
    function updateTime(){
      const now=new Date();
      document.getElementById("time").textContent=now.toLocaleTimeString();
      document.getElementById("date").textContent=now.toLocaleDateString();
    }
    setInterval(updateTime,1000);updateTime();

    // Weather (OpenWeatherMap)
    async function fetchWeather(){
      const apiKey="YOUR_API_KEY"; // replace
      const city="Delhi";
      try{
        const res=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
        const data=await res.json();
        if(data.main){
          document.getElementById("weather").textContent=`üå°Ô∏è ${data.main.temp}¬∞C | ${data.weather[0].description}`;
        }
      }catch(e){
        document.getElementById("weather").textContent="‚ö†Ô∏è Weather unavailable";
      }
    }
    fetchWeather();

    // Bars random animation
    const bars=document.querySelectorAll(".bar");
    setInterval(()=>{
      bars.forEach(b=>{
        const h=20+Math.random()*60;
        b.style.height=h+"px";
      });
    },200);

    // TicTacToe
    const modal=document.getElementById("tttModal");
    const game=document.getElementById("game");
    document.getElementById("tttBtn").onclick=()=>{openTTT()};
    function openTTT(){
      modal.classList.add("active");
      startGame();
    }
    function closeTTT(){modal.classList.remove("active")}

    let current="X", board=[];
    function startGame(){
      board=Array(9).fill("");
      game.innerHTML="";
      board.forEach((_,i)=>{
        const cell=document.createElement("div");
        cell.className="cell";
        cell.onclick=()=>move(i,cell);
        game.appendChild(cell);
      });
    }
    function move(i,cell){
      if(board[i])return;
      board[i]=current;
      cell.textContent=current;
      if(checkWin()){
        setTimeout(()=>{alert(current+" wins!");startGame();},50);
      }else if(board.every(v=>v)){
        setTimeout(()=>{alert("Draw!");startGame();},50);
      }
      current=current==="X"?"O":"X";
    }
    function checkWin(){
      const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
      return wins.some(([a,b,c])=>board[a]&&board[a]===board[b]&&board[a]===board[c]);
    }
  </script>
</body>
</html>
